// datasource db {
//   provider = "sqlite"
//   url      = env("DATABASE_URL")
// }

// generator client {
//   provider = "prisma-client-js"
// }

// model ListeningTest {
//   id        Int    @id @default(autoincrement())
//   title     String @unique // Human-readable title
//   slug      String @unique // URL-safe title & folder name
//   audioPath String // e.g. /tests/my-test/audio.mp3
//   sections  Json // [{title:"Section 1", imagePath:"/tests/my-test/section1.png", start:1, end:10}, ...]

//   // Answers: array of arrays (for multiple optional answers)
//   // Example: [["ardleigh"], ["newspaper","newspapers"], ["theme"], ...]
//   answers Json

//   createdAt DateTime @default(now())
//   updatedAt DateTime @updatedAt
// }

// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model ListeningTest {
  id        String   @id @default(cuid())
  title     String
  slug      String   @unique
  audioUrl  String? // <-- Make optional
  content   String? // <-- Make optional
  answers   Json? // <-- Make optional
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model ReadingTest {
  id        String   @id @default(cuid())
  title     String
  slug      String   @unique
  section1  String?
  section2  String?
  section3  String?
  answers   Json?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model WritingTest {
  id        String   @id @default(cuid())
  title     String
  slug      String   @unique
  section1  String? // Rich text content for Task 1
  section2  String? // Rich text content for Task 2
  answers   Json? // Answers for both sections: {"section1": "answer1", "section2": "answer2"}
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model SpeakingTest {
  id        String   @id @default(cuid())
  title     String
  slug      String   @unique
  content   Json // This will hold the entire test structure
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
